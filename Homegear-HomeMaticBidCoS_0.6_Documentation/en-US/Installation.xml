<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "Homegear-HomeMaticBidCoS_0.6_Documentation.ent">
%BOOK_ENTITIES;
]>
<chapter id="chap-Homegear-HomeMaticBidCoS_0.6_Documentation-Installation">
	<title>Installation</title>
	<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Installation_Installing-from-Repository">
		<title>Installing from Repository</title>
		<para>If you are using Debian, Raspbian or Ubuntu you can install Homegear from repository. Please run the following command as root:</para>
		<programlisting language="Bash">apt-get install homegear-homematicbidcos</programlisting>
	</section>
	<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Manually_Install_Debian_Raspbian_Ubuntu_Package">
		<title>Manually Install Debian/Raspbian/Ubuntu Package</title>
		<para>Download the HomeMatic BidCoS package (homegear-homematicbidcos) from the <ulink url="https://www.homegear.eu/index.php/Downloads">Homegear download page</ulink>. Then as root install the package using dpkg:</para>
		<programlisting language="Bash">dpkg -i homegear-homematicbidcos_XXX.deb
apt-get -f install</programlisting>
		<para>The "apt-get -f install" installs any missing dependencies.</para>
	</section>
	<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source">
		<title>Compiling from Source</title>
		<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Docker">
			<title>Compiling Current GitHub Source Using Docker Image</title>
			<para>See Homegear documentation.</para>
		</section>
		<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual">
			<title>Manually Compiling Homegear-HomeMaticBidCoS</title>
			<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_Prerequisites">
				<title>Prerequisites</title>
				<para>First install all dependencies:</para>
				<itemizedlist spacing="compact">
					<listitem><para>Homegear</para></listitem>
					<listitem><para>Libgpg-error devel</para></listitem>
					<listitem><para>GnuTLS devel</para></listitem>
					<listitem><para>Libgcrypt devel</para></listitem>
				</itemizedlist>
				<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_Prerequisites_Debian">
					<title>Debian / Raspbian / Ubuntu</title>
					<para>On Debian, Raspbian or Ubuntu run:</para>
					<programlisting language="Bash">apt-get install libgpg-error-dev libgnutls28-dev (libgcrypt11-dev or libgcrypt20-dev)</programlisting>
				</section>
				<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_Prerequisites_openSUSE">
					<title>openSUSE Leap</title>
					<para>On openSUSE Leap run:</para>
					<programlisting language="Bash">zypper install libtool libgnutls-devel libgpg-error-devel libgcrypt-devel</programlisting>
				</section>
			</section>
			<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_Compiling">
				<title>Compiling</title>
				<para>Then download Homegear-HomeMaticBidCoS and extract it:</para>
				<programlisting language="Bash">wget https://github.com/Homegear/HomeGear-HomeMaticBidCoS/archive/master.zip
unzip master.zip
rm master.zip</programlisting>
				<para>Change into the extracted directory and run "makeRelease.sh" or "makeDebug.sh". You can pass the number of build threads to the script to speed up compilation:</para>
				<programlisting language="Bash">cd Homegear-HomeMaticBidCoS-master
./makeRelease.sh 4</programlisting>
			</section>
			<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_Configuration">
				<title>Configuration</title>
				<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_Configuration_Installation">
					<title>Installing Configuration Files</title>
					<para>Install the default configuration file:</para>
					<programlisting language="Bash">cp -R misc/Config\ Directory/homematicbidcos.conf /etc/homegear/families</programlisting>
					<para>Install the device description files:</para>
					<programlisting language="Bash">mkdir /etc/homegear/devices/0
cp misc/Device\ Description\ Files/* /etc/homegear/devices/0</programlisting>
					<para>Install the firmare update download script and execute it:</para>
					<programlisting language="Bash">mkdir -p /usr/share/homegear/firmware
cp Data\ Directory/firmware/* /usr/share/homegear/firmware
chmod +x /usr/share/homegear/firmware/GetFirmwareUpdatesHomeMaticBidCoS.sh
/usr/share/homegear/firmware/GetFirmwareUpdatesHomeMaticBidCoS.sh</programlisting>
				</section>
				<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_Configuration-Communication_Modules">
					<title>Communication Modules</title>
					<para>See <xref linkend="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Communication_Modules" /> for instructions on how to configure communication modules.</para>
				</section>
			</section>
			<section id="sect-Homegear-HomeMaticBidCoS_0.6_Documentation-Compiling-from-Source_Manual_Homegear_First-Start">
				<title>First Start</title>
				<para>Now try to start Homegear with:</para>
				<programlisting language="Bash">homegear -u homegear -g homegear -d</programlisting>
				<para>And watch the log file with</para>
				<programlisting language="Bash">tail -n 1000 -f /var/log/homegear/homegear.log</programlisting>
				<para>to see, if everything is working fine.</para>
			</section>
		</section>
	</section>
</chapter>

